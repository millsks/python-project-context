[project]
name = "python-project-context"
channels = ["conda-forge"]
platforms = ["linux-64", "osx-64", "osx-arm64"]

[tasks]
fmt = "ruff format . && ruff check --fix ."
fmt-check = "ruff format --check . && ruff check ."
lint = "ruff check ."
mypy = "mypy ."
test = "pytest -q"
bdd = "behave -q"
e2e = "playwright test"
ci = "pixi run fmt-check && pixi run mypy && pixi run test"

[dependencies]
python = ">=3.11,<3.13"
pip = "*"
ruff = "*"
mypy = "*"
pytest = "*"
pytest-cov = "*"
behave = "*"
nodejs = ">=20,<22"

[pypi-dependencies]
playwright = "*"
pytest-playwright = "*"
sqlalchemy = ">=2.0"
psycopg = {version = "*", extras = ["binary"]}

[feature.dev.dependencies]
alembic = "*"
